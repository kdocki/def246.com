<html>
    <head>
        <title>def246</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="icon" type="image/png" sizes="16x16" href="favicon.png">

<link rel="stylesheet" type="text/css" href="/assets/site.css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
<link href="https://fonts.googleapis.com/css?family=Lora|Merriweather" rel="stylesheet">
<link rel="stylesheet" href="/assets/highlight/styles/default.css">
<script src="/assets/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



<script>
  if (location.hostname != "def246.com") {
  document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
  ':35729/livereload.js?snipver=1"></' + 'script>')
  }
</script> 

        <meta name="author" content="K.D.">
        <meta name="description" content="I’ve been watching the TDD debates with Martin Fowler, Kent Beck and David Hansson. There is some good material in there. It’s pretty cool watching these three. All three are developer heroes of mine. Unfortunately, there isn’t much of a debate.
Martin Fowler plays time cop and mediator but doesn’t speak that much which is a shame because I know he is a bad ass - and he’s got that cool accent. Kent seems to go with David’s flow. Kent even has an article on Facebook called Rest In Peace TDD.
">
        <meta property="og:type" content="website">
        <meta property="og:title" content="There is NO TDD debate">
        <meta property="og:url" content="http://def246.com/2014/05/2014-05-21_there-is-no-tdd-debate/">
        <meta property="og:site_name" content="def246">
        <meta property="og:description" content="I’ve been watching the TDD debates with Martin Fowler, Kent Beck and David Hansson. There is some good material in there. It’s pretty cool watching these three. All three are developer heroes of mine. Unfortunately, there isn’t much of a debate.
Martin Fowler plays time cop and mediator but doesn’t speak that much which is a shame because I know he is a bad ass - and he’s got that cool accent. Kent seems to go with David’s flow. Kent even has an article on Facebook called Rest In Peace TDD.
">
        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="There is NO TDD debate">
        <meta name="twitter:description" content="I’ve been watching the TDD debates with Martin Fowler, Kent Beck and David Hansson. There is some good material in there. It’s pretty cool watching these three. All three are developer heroes of mine. Unfortunately, there isn’t much of a debate.
Martin Fowler plays time cop and mediator but doesn’t speak that much which is a shame because I know he is a bad ass - and he’s got that cool accent. Kent seems to go with David’s flow. Kent even has an article on Facebook called Rest In Peace TDD.
">
    </head>
<body>

    <div class="bg-gray-200">
  <div class="container mx-auto px-4">
      <nav class="flex flex-wrap items-center justify-between p-4">
        <div class="lg:order-2 w-auto lg:w-1/5 sm:text-center"><a class="text-2xl text-gray-900 hover:text-gray-700" href="/">def246</a></div>

        <div class="navbar-menu lg:order-3 lg:block w-full lg:w-2/5 lg:text-right">
          <a class="block lg:inline-block mt-4 lg:mt-0 mr-10 text-gray-900 hover:text-gray-700" href="/">Home</a>
          <a class="block lg:inline-block mt-4 lg:mt-0 mr-10 text-gray-900 hover:text-gray-700" href="/posts">Blog</a>
        </div>
      </nav>
    </div>
</div>


    <div class="container mx-auto">
        <div class="flex">
            <div class="w-3/3 min-w-full px-1">
                <div class="flex items-center">
                    <div class="w-1/5 pt-4">
                        
                        <a href="/2014/05/2014-05-15_my-standing-desk/">Previous article</a>
                        
                    </div>
                    <div class="w-3/5">
                        <h1 class="mt-8 text-center text-3xl text-blue-600">
                            There is NO TDD debate
                        </h1>
                    </div>
                    <div class="w-1/5 pt-4 text-right">
                        
                        <a href="/2014/05/2014-05-23_etags-with-laravel-filters/">Next article</a>
                        
                    </div>
                </div>

                <div class="flex">
                    <div class="post-body h-full py-8 bg-white border-t">
                        <p>I’ve been watching the TDD debates with Martin Fowler, Kent Beck and David Hansson. There is some good material in there. It’s pretty cool watching these three. All three are developer heroes of mine. <strong>Unfortunately, there isn’t much of a debate</strong>.</p>
<p>Martin Fowler plays time cop and mediator but doesn’t speak that much which is a shame because I know he is a bad ass - and he’s got that cool accent. Kent seems to go with David’s flow. Kent even has an article on Facebook called <a href="https://www.facebook.com/notes/kent-beck/rip-tdd/750840194948847">Rest In Peace TDD</a>.</p>
<!-- more -->
<p><strong>There is no debate here.</strong> Where is the tension? The conflict? Where is the name calling?</p>
<h4>And most importantly, <strong>where is Uncle Bob?</strong></h4>
<p>I’m not <a href="http://martinfowler.com/snips/201405071053.html">looking for a death match</a> but the real power players in this conflict are Robert Martin and David Hansson.</p>
<p>Let’s look at a brief history: <em>the order of events occur in real time</em> <small>(not really, just been watching too much Jack Bauer on 24)</small>.</p>
<h3>A Brief History</h3>
<p>It all started with an article/talk that David came out called <a href="http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html">TDD is dead, long live testing</a>. David states that he doesn’t test first and he is pretty content with his own style. Of course, David knows how to sell his ideas so he starts his article with a semi-offensive tag line.</p>
<p>{% blockquote %}
Test-first fundamentalism is like abstinence-only sex ed: An unrealistic, ineffective morality campaign for self-loathing and shaming.
{% endblockquote %}</p>
<p>At the same time David also gave a great <a href="https://www.youtube.com/watch?v=9LfmrkyP81M">speech at RailsConf 2014</a> about TDD. David’s beef with TDD is that we loose <em>architecture clarity</em> when we start to break apart and encapsulate pieces of rails controllers.</p>
<p>In waltzes Uncle Bob whose <a href="http://blog.8thlight.com/uncle-bob/2014/04/25/MonogamousTDD.html">reciprocated response</a> attacks David’s claim as nonsensical and lacking credibility.</p>
<p>This forms into a sort of Pokemon battle where @dhh and @ub are hiding behind their blogs without any direct interaction between the two.</p>
<h4>@dhh <a href="http://david.heinemeierhansson.com/2014/test-induced-design-damage.html">attacks</a>  |  @ub <a href="http://blog.8thlight.com/uncle-bob/2014/05/01/Design-Damage.html">defends</a>  |  @ub <a href="http://blog.8thlight.com/uncle-bob/2014/05/02/ProfessionalismAndTDD.html">counterattacks</a></h4>
<p>This spawned a “debate” on Google Hangouts. But again, not really much debating going on here. Watch them yourself, gather your own opinions.</p>
<table>
<thead>
<tr>
<th>Videos</th>
<th>About</th>
<th style="text-align:right">TDD</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Part 1</strong></td>
<td>     </td>
<td style="text-align:right"><strong>Part 2</strong></td>
</tr>
<tr>
<td>{% youtube z9quxZsLcfo %}</td>
<td></td>
<td style="text-align:right">{% youtube JoTB2mcjU7w %}</td>
</tr>
<tr>
<td><strong>Part 3</strong></td>
<td></td>
<td style="text-align:right"><strong>Part 4</strong></td>
</tr>
<tr>
<td>{% youtube YNw4baDz6WA %}</td>
<td></td>
<td style="text-align:right">{% youtube dGtasFJnUxI %}</td>
</tr>
<tr>
<td><strong>Part 5</strong></td>
<td></td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>{% youtube gWD6REVeKW4 %}</td>
<td></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>What are your thoughts?</h3>
<p>I don’t imagine many people care what I think. But what the hell, you’re reading this right? I agree with David on many things: especially on the points like <strong>code clarity &amp; knowing the trade offs involved with TDD</strong>.</p>
<p>I work a lot with Laravel and I see the community diving into things like the hexagonal pattern and DDD. I’m not personally working on a large application like Facebook. I write at best, medium sized applications. My experience with DDD and hexagonal is that when done on smaller projects, it turns seemingly simple and harmless code into complex and over-engineered crap. <strong>I’ll say it again, code to crap</strong>.</p>
<h4>There is little beauty in turning simple into complex.</h4>
<p>I’ve done hexagonal layering and repositories. The real problem I was trying to tackle was <em>code maintainability, project risk and developer sanity</em>.</p>
<p>I’ve been writing code for over a decade. I get paid to do it too. I consider myself a professional and I don’t always test first. I also still haven’t found a silver bullet when developing though. Sometimes I prototype first. Other times I’ll write a test spec and then write code to satisfy that spec. It just depends on the situation really.</p>
<p>However, writing a test first ensures that I am writing an end-result I can feel confident about. But I don’t want tests to drive my design. Changes dictate my design. It is one of the most important factors of my design. That is not to say that domain is any less important but I like to follow this age-old principle:</p>
<p>{% blockquote %}
Encapsulate the things that change. Let sleeping dragons lie.
{% endblockquote %}</p>
<p>Okay, that last part about dragons I just made up. If some code (the dragon) never changes, don’t write a bunch of indirection or abstractions around that code. Also a manual test would work just fine here. Anything else and it’s just making it harder man.</p>
<p>Here is an example of doing it in style. In Taylor’s laravel/cashier project he has a class called Invoice that can print off a pdf receipt of an invoice. However, one of the methods of an invoice is called <a href="https://github.com/laravel/cashier/blob/master/src/Laravel/Cashier/Invoice.php#L341">getPhantomProcess</a> which uses the external phantomjs binary file in order to create a pdf document. Is this bad design? It seems to violate open/closed and single responsibility principles. This code is less flexible because the only way to create pdf documents is through phantomjs. But notice Taylor made his code simple to follow, it’s elegant. He didn’t let tests dictate his design either.</p>
<p>Taylor could have injected in a dependency for Invoice that allows for a pdf to be created some other way. It certainly would have been easier unit tested this way. However, this part of the code is not going to change. Taylor is always going to use Phantomjs, so he is content. And thus, my point:</p>
<h4>Less work, still works.</h4>
<p>Everyone knows Taylor is an awesome developer. One thing that makes him great is that he is okay with breaking rules if it makes life easier. David, Kent and Martin all seem to be the same way too. I can agree with that. Make life easier.</p>
<h3>TDD is not dead.</h3>
<p>I don’t agree that TDD is dead though. I think it has evolved. To know if TDD is dead, we should define it. Uncle Bob states three principles of TDD are:</p>
<ol>
<li>Write no production code, except to pass a failing test.</li>
<li>Write only enough of a test to demonstrate a failure.</li>
<li>Write only enough production code to pass a test.</li>
</ol>
<p>The TDD principles are not the problem here. Notice these principles say nothing specific about your tests. It doesn’t say that you have to write tons of mocks and unit tests. TDD doesn’t say anything about your architecture or design. I like to interrupt these 3 principles slightly different, much like writing an essay article:</p>
<ol>
<li>Create an outline that satisfies my objective (perhaps my objective is to inform you about cows)</li>
<li>Using the basic outline, fill in details with some paragraphs. (here is were I write the story)</li>
<li>Reflect. Does the objective of the story and outline still match? <small>(did I actually inform you about cows? Are there any tangents about unicorns?)</small></li>
</ol>
<h4>(And we don’t try to write a novel in one go. Iterate the process.)</h4>
<p>I think the way we test is evolving. For example, (imo) testing behavior in web apps is more far important than unit testing. Sure tests might run a bit slower but unit tests produce a far less valuable feedback loop than say an integration test. In fact, the most valuable feedback loop is a <strong>customer</strong> which assuredly won’t provide feedback in mere milliseconds.</p>
<p>Regression testing a web app seems to work well too, as I think David &amp; Kent both touched on this point when they talked about. This is a grey area where TDD is evolving. If you are writing all your tests up front, then you shouldn’t have to write regression tests right? <em>That’s not how it works in the real world.</em> What is wrong with writing tests after the fact? Nothing. That one user, QA person or that jerk down the road is going to break something and then you’ll have to go fix it. If you have time you’ll write a test to ensure it doesn’t happen again. All this to say though, just because you do regression testing, doesn’t mean you should just throw TDD out the window. It’s not all or nothing here.</p>
<p>For modules (or that one hefty algorithm) that have simple objectives and interfaces (unlike the UX and presentation layer stuff then TDD makes a lot more sense. You start digging in to the units and approaching this with white box testing. That doesn’t mean you have to bust out Mockery and start mocking all over the place though. I’ve found that phpspec for creating doubles works well. However, if you start trying to mock large things like Eloquent, well phpspec fubars. This is just my own style though; I should get back on point.</p>
<p>I’ve found that using TDD used in the proper cases is bad ass and produces great quality code. Some proper cases
being re-usable modules, components, packages, frameworks, etc. An terrible time to use TDD is a throw-away prototype or when the problem domain’s architecture is very small or unclear.</p>
<p>So <strong>when it makes sense</strong>, write some tests, write some code, make sure tests pass. Rinse, wash, repeat daily. In the right context, there is nothing dead about the process of TDD. Don’t get me wrong, I enjoy watching Martin, Kent and David express themselves. Ever notice that Kent squints really hard when he is thinking? ++Geek awesomeness!</p>
<p>All this said, <span class="lg">adding Uncle Bob to the conversation will make the debate better.</span></p>

                    </div>                        
                </div>

                <div class="text-right">
                    <div>post by K.D. on 05/21/2014</div>
                </div>
            </div>
        </div>

        <div id="disqus_thread"></div>

        <script>
            var disqus_shortname = '';
            var disqus_url = 'def246.com//2014/05/2014-05-21_there-is-no-tdd-debate/';
          
            (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//go.disqus.com/embed.js';

            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>

    </div>
</body>
</html>